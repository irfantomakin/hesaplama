<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>ðŸ•’ SÃ¼re Hesaplama</title>

<link rel="apple-touch-icon" href="image/icon.png">
<link rel="icon" type="image/png" href="image/icon.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
:root{
  --bg:#f6f7f9;
  --card:#fff;
  --border:#e6e6e6;
  --danger:#c62828;
  --ok:#1b8f3a;
  --dark:#2b2b2b;
}

html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  font-family:Arial,sans-serif;
  max-width:1100px;
  margin-inline:auto;
}

@media (max-width:900px){
  html,body{height:100dvh;overflow:hidden}
}

.toolbar{
  display:flex;
  justify-content:center;
  gap:10px;
  padding:12px;
}
@media (min-width:901px){
  .toolbar{display:none}
}

.btn{
  padding:10px 16px;
  border-radius:14px;
  border:1px solid #ccc;
  background:#fff;
  font-weight:800;
}
.btn.active{border-color:#000}

.areas{display:flex;gap:16px;padding:12px}
.area{
  flex:1;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  display:flex;
  flex-direction:column;
}
@media (max-width:900px){
  .areas{display:block}
  .area{display:none;height:calc(100dvh - 90px)}
  .area.active{display:flex}
}

.area-head{
  position:sticky;
  top:0;
  background:var(--card);
  padding:12px;
  z-index:5;
}

.big{
  font-size:52px;
  font-weight:900;
  min-height:60px;
}

.small{
  font-size:22px;
  font-weight:800;
}

.ok{color:var(--ok)}
.bad{color:var(--danger)}

.above{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:6px;
}

.time-input{
  width:140px;
  padding:12px;
  border-radius:16px;
  border:2px solid #ddd;
  text-align:center;
  font-size:20px;
}
.time-input.filled{
  background:var(--dark);
  color:#fff;
  border-color:var(--dark);
}

.icon-btn{
  width:48px;
  height:48px;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
  font-size:22px;
}

.list{
  overflow:auto;
  padding:6px 12px 16px;
}

.row{
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px 0;
  border-bottom:1px dashed var(--border);
}
.idx{width:28px;text-align:right;font-weight:700;color:#777}
</style>
</head>

<body>

<div class="toolbar">
  <button class="btn active" id="tab1">Reklamdan Ã–nce</button>
  <button class="btn" id="tab2">Reklamdan Sonra</button>
</div>

<div class="areas">

<!-- ALAN 1 -->
<div class="area active" data-area="1">
  <div class="area-head">

    <!-- BÃœYÃœK ALAN (ARTIK TOPLAM) -->
    <div class="big" id="big1">â€”:â€”</div>

    <div class="above">
      ðŸ•’
      <input id="sub1" class="time-input" placeholder="dk/sn" inputmode="numeric">
      <button class="icon-btn" id="clearSub1">âœ•</button>
    </div>

    <!-- KÃœÃ‡ÃœK YEÅžÄ°L/KIRMIZI (ARTIK KALAN) -->
    <div class="small" id="small1">â€”:â€”</div>
  </div>

  <div class="list" id="area1"></div>
</div>

<!-- ALAN 2 -->
<div class="area" data-area="2">
  <div class="area-head">

    <div class="big" id="big2">â€”:â€”</div>

    <div class="above">
      ðŸ•’
      <input id="sub2" class="time-input" placeholder="dk/sn" inputmode="numeric">
      <button class="icon-btn" id="clearSub2">âœ•</button>
    </div>

    <div class="small" id="small2">â€”:â€”</div>
  </div>

  <div class="list" id="area2"></div>
</div>

</div>

<script>
const allInputs=[];

const toSec=v=>{
  if(!v||!v.includes(":"))return 0;
  const[m,s]=v.split(":");
  return(+m||0)*60+(+s||0);
};
const fmt=s=>{
  const n=s<0; s=Math.abs(s);
  return(n?"-":"")+String(Math.floor(s/60)).padStart(2,"0")+":"+String(s%60).padStart(2,"0");
};
const auto=v=>{
  v=v.replace(/\D/g,"");
  if(v.length<=2)return"0:"+v.padStart(2,"0");
  return(+v.slice(0,-2))+":"+v.slice(-2);
};

function create(area,count){
  const c=document.getElementById(area);
  for(let i=1;i<=count;i++){
    const r=document.createElement("div");
    r.className="row";
    r.innerHTML=`<div class="idx">${i}.</div>
      <input class="time-input" placeholder="dk/sn" inputmode="numeric">
      <button class="icon-btn">âœ•</button>`;
    const inp=r.querySelector("input");
    const btn=r.querySelector("button");

    inp.onfocus=()=>setTimeout(()=>inp.select(),0);
    inp.oninput=()=>{
      if(inp.value.length===3){inp.value=auto(inp.value);next(inp);}
      inp.classList.toggle("filled",!!inp.value);
      calc();
    };
    inp.onkeydown=e=>{
      if(e.key==="Enter"){inp.value=auto(inp.value);next(inp);}
    };
    btn.onclick=()=>{inp.value="";inp.classList.remove("filled");calc();};

    c.appendChild(r);
    allInputs.push(inp);
  }
}

function sum(id){
  let t=0;
  document.querySelectorAll("#"+id+" input").forEach(i=>t+=toSec(i.value));
  return t;
}
function has(id){
  return[...document.querySelectorAll("#"+id+" input")].some(i=>i.value);
}

function calc(){
  const a1=sum("area1"), a2=sum("area2");

  // BÃœYÃœK = TOPLAM
  big1.textContent=has("area1")?fmt(a1):"â€”:â€”";
  big2.textContent=has("area2")?fmt(a2):"â€”:â€”";

  // KÃœÃ‡ÃœK = KALAN
  if(!sub1.value){
    small1.textContent="â€”:â€”";
    small1.className="small";
  }else{
    const d=toSec(sub1.value)-a1;
    small1.textContent=fmt(d);
    small1.className="small "+(d<0?"bad":"ok");
  }

  if(!sub2.value){
    small2.textContent="â€”:â€”";
    small2.className="small";
  }else{
    const d=toSec(sub2.value)-a2;
    small2.textContent=fmt(d);
    small2.className="small "+(d<0?"bad":"ok");
  }
}

create("area1",13);
create("area2",7);

sub1.oninput=()=>{if(sub1.value.length===4)sub1.value=auto(sub1.value);calc()};
sub2.oninput=()=>{if(sub2.value.length===4)sub2.value=auto(sub2.value);calc()};
clearSub1.onclick=()=>{sub1.value="";calc()};
clearSub2.onclick=()=>{sub2.value="";calc()};

tab1.onclick=()=>{document.querySelector('[data-area="1"]').classList.add("active");document.querySelector('[data-area="2"]').classList.remove("active");tab1.classList.add("active");tab2.classList.remove("active")};
tab2.onclick=()=>{document.querySelector('[data-area="2"]').classList.add("active");document.querySelector('[data-area="1"]').classList.remove("active");tab2.classList.add("active");tab1.classList.remove("active")};

calc();
</script>

</body>
</html>